<!DOCTYPE html>
<!-- Heather Switzer and Jacob Carney, help from https://www.w3schools.com/howto/howto_js_collapsible.asp -->
<html>
	<head>
		<title>Assignment</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles.css')}}">
		<link rel="shortcut icon" href="{{url_for('static', filename='favicon.ico')}}">
	</head>
	<body>
		<ul>
			<li id="nav-logo"> <img id="logo" src="../static/logo.svg"></img></li>
			<li id="nav-title"><a id="title" href="{{url_for('courses')}}">Courses</a></li>
			<li id="nav-sandox"><a id="sandbox" href="{{url_for('sandbox')}}">Sandbox</a></li>
			<li id="nav-faq"><a id="faq" href="{{url_for('faq')}}">FAQ</a></li>
			<li id="nav-about"><a href="{{url_for('about')}}">About</a> </li>
			<li id="nav-logout", style="float:right"><a href="{{url_for('logout')}}"> Logout </a></li>
		</ul>
		<div>
			<p id="nav-logged">Logged in as: {{user}}</p>
			<a href="{{url_for('test', assignmentID=assignmentID)}}"><button type="button" name="testCases" value="testCases" style="width:25%; float:right">My Test Cases</button></a>
			<h1>{{title}}</h1>
			<h2>Due Date: {{date}}</h2>
			<p>{{body}}</p>
		</div>


		<form method="POST" enctype=multipart/form-data >	
			<script>
				function file_upload(){
				var x = document.getElementById("projectFile");
					if('files' in x){
						if(x.files.length == 0){
							//error
						}
						else{

						}
					}
				}
			</script>
				<div style="width:100%; right:0.6%">
				<nav class="testCaseBtn">
					<button type="submit" name="sandbox" value="compile">Compile</button>
					<button type="submit" name="sandbox" value="run">Run</button>
					<button type="submit" name="sandbox" value="runTest">Run Test Cases</button>
					<button type="submit" name="sandbox" value="save">Save</button>
					<button style="width:19.7%" id="prompt" type="button" value="upload">Upload</button>
					
					<div id="myModal" class="modal">

 					 	<!-- Modal content -->
					<div class="modal-content">
					<span class="close" style="float:left">&times;</span>
    						<p>Upload file here:</p>
						<input type="file" name="uploadfile" style="font-size:100%"></input>
						<button type="submit" name="sandbox" value="upload">Upload</button>	

					</div>
					</div>
				</nav>
			</div>
<div style="float:left">
	<b>Select Timeout (in seconds):</b>
	<select name="timeout">
		<option value="30">30</option>
		<option value="60">60</option>
		<option value="120">120</option>
		<option value="300">300</option>
		<option value="600">600</option>
		<option value="1200">1200</option>
	</select>
</div>
<br /><br />
	<div style="float:right;width:40%; height=5vw">
   	INPUT HERE:
	</div>
	<br />
	<div>
		<textarea type="text" name="cin" style="width:40%; float:right; font-family:Arial; font-size:12pt" placeholder="Input Values Here."></textarea><br /><br />
	</div>

<br /> <br />
<div style="float:left;width:59%; height=5vw">
   CODE HERE:
</div>

		<div style="float:right;width:40%; height=5vw">
		OUTPUT HERE:
		</div>
		<br>

		<div>
		<textarea type="text" id="code" name="code" style="font-family:Arial; font-size:12pt; width:59%; height:60vw; float:left; background-color:black;color:white">{{code}}</textarea>
		</div>

		<div>
		<textarea disabled type="text" name="output" id="output" style="font-family:Arial; font-size:12pt; width:40%; height:60vw; float:right">{{output}}</textarea>
		</div>
		</form>
		
		<script type="text/javascript">
		var textareas = document.getElementById('code');
		//textareas.value = "HELLO, WORLD!";
		textareas.onkeydown = function(e){
			if(e.keyCode==9 || e.which==9){
				e.preventDefault();
				var s = this.selectionStart;
				this.value = this.value.substring(0,this.selectionStart) + "\t" + this.value.substring(this.selectionEnd);
				this.selectionEnd = s+1; 
			}
		}
		//UPLOAD CODE STARTS HERE
		var modal = document.getElementById('myModal');

					// Get the button that opens the modal
					var btn = document.getElementById("prompt");

					// Get the <span> element that closes the modal
					var span = document.getElementsByClassName("close")[0];

					// When the user clicks the button, open the modal 
					btn.onclick = function() {
						modal.style.display = "block";
					}

					// When the user clicks on <span> (x), close the modal
					span.onclick = function() {
					modal.style.display = "none";
					}

			// When the user clicks anywhere outside of the modal, close it
					window.onclick = function(event) {
						if (event.target == modal) {
							modal.style.display = "none";
						}
					}


</script>
	<div name='errordiv' class='errmsg'>{{error}}</div>

	</body>
</html>
